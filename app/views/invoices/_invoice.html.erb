<div id='<%= dom_id(invoice) %>' class='card'>
  <div class='card-header'>
  Invoice: <%= link_to invoice.id, invoice %>
  </div>

  <div class='card-body'>
    <% if invoice.customer %>
      <p><strong>Customer:</strong> <%= link_to invoice.customer.full_name, invoice.customer %></p>
    <% elsif invoice.customer_id.present? %>
      <p><strong>Customer:</strong> <%= invoice.customer_id %></p>
    <% else %>
      <p><strong>Customer:</strong> Missing customer</p>
    <% end %>

    <p>
      <strong>Invoice Date:</strong>
      <%= invoice.invoice_date.strftime('%B %d, %Y') %>
    </p>

    <p>
      <strong>Billing Address:</strong>
      <%= invoice.billing_address %>
    </p>

    <p>
      <strong>Billing City:</strong>
      <%= invoice.billing_city %>
    </p>

    <p>
      <strong>Billing State:</strong>
      <%= invoice.billing_state %>
    </p>

    <p>
      <strong>Billing Country:</strong>
      <%= invoice.billing_country %>
    </p>

    <p>
      <strong>Billing Postal Code:</strong>
      <%= invoice.billing_postal_code %>
    </p>

    <p>
      <strong>Total:</strong>
      <%= number_to_currency(invoice.total) %>
    </p>
    
    <p><strong>Invoice Lines Count:</strong> <%= invoice.invoice_lines_count ? invoice.invoice_lines_count : invoice.invoice_lines.count %></p>
  </div>

  <div class='card-footer text-body-secondary'>
    <%= link_to 'Show this invoice', invoice %>
  </div>
</div>
