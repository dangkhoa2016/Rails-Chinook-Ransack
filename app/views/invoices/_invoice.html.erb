<%= render 'shared/display_record', record: invoice do %>
  <%= render_columns(invoice) do |column, value| %>
    <% if column[:field] == 'customer' %>
      <% if invoice.customer %>
        <strong>Customer:</strong> <%= link_to invoice.customer.full_name, invoice.customer %>
      <% elsif invoice.customer_id.present? %>
        <strong>Customer:</strong> <%= invoice.customer_id %>
      <% else %>
        <strong>Customer:</strong> Missing customer
      <% end %>
    <% else %>
      <% render_default(column, value, invoice) %>
    <% end %>
  <% end %>
<% end %>
